<div class="inscription-form">
  <h2>Inscription</h2>
  <form (ngSubmit)="onSubmit()" #inscriptionForm="ngForm">
    <!-- Champ Nom -->
    <div class="form-group">
      <label for="nom">Nom :</label>
      <input
        type="text"
        id="nom"
        name="nom"
        [(ngModel)]="user.nom"
        #nom="ngModel"
        required
        placeholder="Votre nom">
      <div class="error" *ngIf="nom.invalid && (nom.dirty || nom.touched)">
        <small *ngIf="nom.errors?.['required']">Le nom est requis.</small>
      </div>
    </div>

    <!-- Champ Prénom -->
    <div class="form-group">
      <label for="prenom">Prénom :</label>
      <input
        type="text"
        id="prenom"
        name="prenom"
        [(ngModel)]="user.prenom"
        #prenom="ngModel"
        required
        placeholder="Votre prénom">
      <div class="error" *ngIf="prenom.invalid && (prenom.dirty || prenom.touched)">
        <small *ngIf="prenom.errors?.['required']">Le prénom est requis.</small>
      </div>
    </div>

    
    <div class="form-group">
      <label for="email">Email :</label>
      <input
        type="email"
        id="email"
        name="email"
        [(ngModel)]="user.email"
        #email="ngModel"
        required
        email
        placeholder="Votre email">
      <div class="error" *ngIf="email.invalid && (email.dirty || email.touched)">
        <small *ngIf="email.errors?.['required']">L'email est requis.</small>
        <small *ngIf="email.errors?.['email']">L'email doit être valide.</small>
      </div>
    </div>

   
    <div class="form-group">
      <label for="motDePasse">Mot de passe :</label>
      <input
        type="password"
        id="motDePasse"
        name="motDePasse"
        [(ngModel)]="user.motDePasse"
        #motDePasse="ngModel"
        required
        minlength="6"
        placeholder="Votre mot de passe (min. 6 caractères)">
      <div class="error" *ngIf="motDePasse.invalid && (motDePasse.dirty || motDePasse.touched)">
        <small *ngIf="motDePasse.errors?.['required']">Le mot de passe est requis.</small>
        <small *ngIf="motDePasse.errors?.['minlength']">Le mot de passe doit contenir au moins 6 caractères.</small>
      </div>
    </div>

    <!-- Champ Numéro de téléphone (8 chiffres) -->
    <div class="form-group">
      <label for="numeroDeTelephone">Numéro de téléphone :</label>
      <input
        type="text"
        id="numeroDeTelephone"
        name="numeroDeTelephone"
        [(ngModel)]="user.numeroDeTelephone"
        #numeroDeTelephone="ngModel"
        required
        pattern="^[0-9]{8}$"
        placeholder="Votre numéro de téléphone (8 chiffres)">
      <div class="error" *ngIf="numeroDeTelephone.invalid && (numeroDeTelephone.dirty || numeroDeTelephone.touched)">
        <small *ngIf="numeroDeTelephone.errors?.['required']">Le numéro de téléphone est requis.</small>
        <small *ngIf="numeroDeTelephone.errors?.['pattern']">Le numéro de téléphone doit contenir 8 chiffres.</small>
      </div>
    </div>

    
    <div class="form-group">
      <label for="role">Rôle :</label>
      <select id="role" name="role" [(ngModel)]="user.role" #role="ngModel">
        <option value="user">Client</option>
        <option value="agriculteur">Agriculteur</option>
        <option value="livreur">Livreur</option>
      </select>
    </div>

    <button type="submit" class="btn-submit" [disabled]="inscriptionForm.invalid">
      S'inscrire
    </button>
  </form>
  <p class="message">{{ message }}</p>
</div>
